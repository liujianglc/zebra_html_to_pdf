(function(){function e(e){console.log("$f.fireEvent",[].slice.call(e))}function t(e){if(!e||typeof e!="object"){return e}var n=new e.constructor;for(var r in e){if(e.hasOwnProperty(r)){n[r]=t(e[r])}}return n}function n(e,t){if(!e){return}var n,r=0,i=e.length;if(i===undefined){for(n in e){if(t.call(e[n],n,e[n])===false){break}}}else{for(var s=e[0];r<i&&t.call(s,r,s)!==false;s=e[++r]){}}return e}function r(e){return document.getElementById(e)}function i(e,t,r){if(typeof t!="object"){return e}if(e&&t){n(t,function(t,n){if(!r||typeof n!="function"){e[t]=n}})}return e}function s(e){var t=e.indexOf(".");if(t!=-1){var r=e.slice(0,t)||"*";var i=e.slice(t+1,e.length);var s=[];n(document.getElementsByTagName(r),function(){if(this.className&&this.className.indexOf(i)!=-1){s.push(this)}});return s}}function o(e){e=e||window.event;if(e.preventDefault){e.stopPropagation();e.preventDefault()}else{e.returnValue=false;e.cancelBubble=true}return false}function u(e,t,n){e[t]=e[t]||[];e[t].push(n)}function a(){return"_"+(""+Math.random()).slice(2,10)}function c(s,c,p){function L(){function t(e){if(/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(b[0].url)&&!r()){return true}if(!d.isLoaded()&&d._fireEvent("onBeforeClick")!==false){d.load()}return o(e)}function r(){return d.hasiPadSupport&&d.hasiPadSupport()}function i(){if(g.replace(/\s/g,"")!==""){if(s.addEventListener){s.addEventListener("click",t,false)}else if(s.attachEvent){s.attachEvent("onclick",t)}}else{if(s.addEventListener&&!r()){s.addEventListener("click",o,false)}d.load()}}if($f(s)){$f(s).getParent().innerHTML="";T=$f(s).getIndex();h[T]=d}else{h.push(d);T=h.length-1}k=parseInt(s.style.height,10)||s.clientHeight;S=s.id||"fp"+a();x=c.id||S+"_api";c.id=x;g=s.innerHTML;if(typeof p=="string"){p={clip:{url:p}}}p.playerId=S;p.clip=p.clip||{};if(s.getAttribute("href",2)&&!p.clip.url){p.clip.url=s.getAttribute("href",2)}y=new f(p.clip,-1,d);p.playlist=p.playlist||[p.clip];var e=0;n(p.playlist,function(){var t=this;if(typeof t=="object"&&t.length){t={url:""+t}}n(p.clip,function(e,n){if(n!==undefined&&t[e]===undefined&&typeof n!="function"){t[e]=n}});p.playlist[e]=t;t=new f(t,e,d);b.push(t);e++});n(p,function(e,t){if(typeof t=="function"){if(y[e]){y[e](t)}else{u(E,e,t)}delete p[e]}});n(p.plugins,function(e,t){if(t){w[e]=new l(e,t,d)}});if(!p.plugins||p.plugins.controls===undefined){w.controls=new l("controls",null,d)}w.canvas=new l("canvas",null,d);g=s.innerHTML;setTimeout(i,0)}var d=this,v=null,m=false,g,y,b=[],w={},E={},S,x,T,N,C,k;i(d,{id:function(){return S},isLoaded:function(){return v!==null&&v.fp_play!==undefined&&!m},getParent:function(){return s},hide:function(e){if(e){s.style.height="0px"}if(d.isLoaded()){v.style.height="0px"}return d},show:function(){s.style.height=k+"px";if(d.isLoaded()){v.style.height=C+"px"}return d},isHidden:function(){return d.isLoaded()&&parseInt(v.style.height,10)===0},load:function(e){if(!d.isLoaded()&&d._fireEvent("onBeforeLoad")!==false){var t=function(){if(g&&!flashembed.isSupported(c.version)){s.innerHTML=""}if(e){e.cached=true;u(E,"onLoad",e)}flashembed(s,c,{config:p})};var r=0;n(h,function(){this.unload(function(e){if(++r==h.length){t()}})})}return d},unload:function(e){if(d._fireEvent("onBeforeUnload")===false){if(e){e(false)}return d}m=true;try{if(v){if(v.fp_isFullscreen()){v.fp_toggleFullscreen()}v.fp_close();d._fireEvent("onUnload")}}catch(t){}var n=function(){v=null;s.innerHTML=g;m=false;if(e){e(true)}};if(/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)){setTimeout(n,0)}else{n()}return d},getClip:function(e){if(e===undefined){e=N}return b[e]},getCommonClip:function(){return y},getPlaylist:function(){return b},getPlugin:function(e){var t=w[e];if(!t&&d.isLoaded()){var n=d._api().fp_getPlugin(e);if(n){t=new l(e,n,d);w[e]=t}}return t},getScreen:function(){return d.getPlugin("screen")},getControls:function(){return d.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return d.getPlugin("logo")._fireEvent("onUpdate")}catch(e){}},getPlay:function(){return d.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(e){return e?t(p):p},getFlashParams:function(){return c},loadPlugin:function(e,t,n,r){if(typeof n=="function"){r=n;n={}}var i=r?a():"_";d._api().fp_loadPlugin(e,t,n,i);var s={};s[i]=r;var o=new l(e,null,d,s);w[e]=o;return o},getState:function(){return d.isLoaded()?v.fp_getState():-1},play:function(e,t){var n=function(){if(e!==undefined){d._api().fp_play(e,t)}else{d._api().fp_play()}};if(d.isLoaded()){n()}else if(m){setTimeout(function(){d.play(e,t)},50)}else{d.load(function(){n()})}return d},getVersion:function(){var e="flowplayer.js 3.2.11";if(d.isLoaded()){var t=v.fp_getVersion();t.push(e);return t}return e},_api:function(){if(!d.isLoaded()){throw"Flowplayer "+d.id()+" not loaded when calling an API method"}return v},setClip:function(e){n(e,function(t,n){if(typeof n=="function"){u(E,t,n);delete e[t]}else if(t=="onCuepoint"){$f(s).getCommonClip().onCuepoint(e[t][0],e[t][1])}});d.setPlaylist([e]);return d},getIndex:function(){return T},bufferAnimate:function(e){v.fp_bufferAnimate(e===undefined||e);return d},_swfHeight:function(){return v.clientHeight}});n("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut".split(","),function(){var e="on"+this;if(e.indexOf("*")!=-1){e=e.slice(0,e.length-1);var t="onBefore"+e.slice(2);d[t]=function(e){u(E,t,e);return d}}d[e]=function(t){u(E,e,t);return d}});n("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled".split(","),function(){var e=this;d[e]=function(t,n){if(!d.isLoaded()){return d}var r=null;if(t!==undefined&&n!==undefined){r=v["fp_"+e](t,n)}else{r=t===undefined?v["fp_"+e]():v["fp_"+e](t)}return r==="undefined"||r===undefined?d:r}});d._fireEvent=function(t){if(typeof t=="string"){t=[t]}var i=t[0],s=t[1],o=t[2],u=t[3],a=0;if(p.debug){e(t)}if(!d.isLoaded()&&i=="onLoad"&&s=="player"){v=v||r(x);C=d._swfHeight();n(b,function(){this._fireEvent("onLoad")});n(w,function(e,t){t._fireEvent("onUpdate")});y._fireEvent("onLoad")}if(i=="onLoad"&&s!="player"){return}if(i=="onError"){if(typeof s=="string"||typeof s=="number"&&typeof o=="number"){s=o;o=u}}if(i=="onContextMenu"){n(p.contextMenu[s],function(e,t){t.call(d)});return}if(i=="onPluginEvent"||i=="onBeforePluginEvent"){var l=s.name||s;var c=w[l];if(c){c._fireEvent("onUpdate",s);return c._fireEvent(o,t.slice(3))}return}if(i=="onPlaylistReplace"){b=[];var h=0;n(s,function(){b.push(new f(this,h++,d))})}if(i=="onClipAdd"){if(s.isInStream){return}s=new f(s,o,d);b.splice(o,0,s);for(a=o+1;a<b.length;a++){b[a].index++}}var m=true;if(typeof s=="number"&&s<b.length){N=s;var g=b[s];if(g){m=g._fireEvent(i,o,u)}if(!g||m!==false){m=y._fireEvent(i,o,u,g)}}n(E[i],function(){m=this.call(d,s,o);if(this.cached){E[i].splice(a,1)}if(m===false){return false}a++});return m};if(typeof s=="string"){var A=r(s);if(!A){throw"Flowplayer cannot access element: "+s}s=A;L()}else{L()}}function p(e){this.length=e.length;this.each=function(t){n(e,t)};this.size=function(){return e.length};var t=this;for(name in c.prototype){t[name]=function(){var e=arguments;t.each(function(){this[name].apply(this,e)})}}}var f=function(e,t,r){var s=this,o={},f={};s.index=t;if(typeof e=="string"){e={url:e}}i(this,e,true);n("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop".split(","),function(){var e="on"+this;if(e.indexOf("*")!=-1){e=e.slice(0,e.length-1);var n="onBefore"+e.slice(2);s[n]=function(e){u(f,n,e);return s}}s[e]=function(t){u(f,e,t);return s};if(t==-1){if(s[n]){r[n]=s[n]}if(s[e]){r[e]=s[e]}}});i(this,{onCuepoint:function(e,n){if(arguments.length==1){o.embedded=[null,e];return s}if(typeof e=="number"){e=[e]}var i=a();o[i]=[e,n];if(r.isLoaded()){r._api().fp_addCuepoints(e,t,i)}return s},update:function(e){i(s,e);if(r.isLoaded()){r._api().fp_updateClip(e,t)}var n=r.getConfig();var o=t==-1?n.clip:n.playlist[t];i(o,e,true)},_fireEvent:function(e,u,a,l){if(e=="onLoad"){n(o,function(e,n){if(n[0]){r._api().fp_addCuepoints(n[0],t,e)}});return false}l=l||s;if(e=="onCuepoint"){var c=o[u];if(c){return c[1].call(r,l,a)}}if(u&&"onBeforeBegin,onMetaData,onStart,onUpdate,onResume".indexOf(e)!=-1){i(l,u);if(u.metaData){if(!l.duration){l.duration=u.metaData.duration}else{l.fullDuration=u.metaData.duration}}}var h=true;n(f[e],function(){h=this.call(r,l,u,a)});return h}});if(e.onCuepoint){var l=e.onCuepoint;s.onCuepoint.apply(s,typeof l=="function"?[l]:l);delete e.onCuepoint}n(e,function(t,n){if(typeof n=="function"){u(f,t,n);delete e[t]}});if(t==-1){r.onCuepoint=this.onCuepoint}};var l=function(e,t,r,s){var o=this,u={},f=false;if(s){i(u,s)}n(t,function(e,n){if(typeof n=="function"){u[e]=n;delete t[e]}});i(this,{animate:function(n,i,s){if(!n){return o}if(typeof i=="function"){s=i;i=500}if(typeof n=="string"){var f=n;n={};n[f]=i;i=500}if(s){var l=a();u[l]=s}if(i===undefined){i=500}t=r._api().fp_animate(e,n,i,l);return o},css:function(n,s){if(s!==undefined){var u={};u[n]=s;n=u}t=r._api().fp_css(e,n);i(o,t);return o},show:function(){this.display="block";r._api().fp_showPlugin(e);return o},hide:function(){this.display="none";r._api().fp_hidePlugin(e);return o},toggle:function(){this.display=r._api().fp_togglePlugin(e);return o},fadeTo:function(t,n,i){if(typeof n=="function"){i=n;n=500}if(i){var s=a();u[s]=i}this.display=r._api().fp_fadeTo(e,t,n,s);this.opacity=t;return o},fadeIn:function(e,t){return o.fadeTo(1,e,t)},fadeOut:function(e,t){return o.fadeTo(0,e,t)},getName:function(){return e},getPlayer:function(){return r},_fireEvent:function(t,s,a){if(t=="onUpdate"){var l=r._api().fp_getPlugin(e);if(!l){return}i(o,l);delete o.methods;if(!f){n(l.methods,function(){var t=""+this;o[t]=function(){var n=[].slice.call(arguments);var i=r._api().fp_invoke(e,t,n);return i==="undefined"||i===undefined?o:i}});f=true}}var c=u[t];if(c){var h=c.apply(o,s);if(t.slice(0,1)=="_"){delete u[t]}return h}return o}})};var h=[];window.flowplayer=window.$f=function(){var e=null;var o=arguments[0];if(!arguments.length){n(h,function(){if(this.isLoaded()){e=this;return false}});return e||h[0]}if(arguments.length==1){if(typeof o=="number"){return h[o]}else{if(o=="*"){return new p(h)}n(h,function(){if(this.id()==o.id||this.id()==o||this.getParent()==o){e=this;return false}});return e}}if(arguments.length>1){var u=arguments[1],a=arguments.length==3?arguments[2]:{};if(typeof u=="string"){u={src:u}}u=i({bgcolor:"#000000",version:[10,1],expressInstall:"http://releases.flowplayer.org/swf/expressinstall.swf",cachebusting:false},u);if(typeof o=="string"){if(o.indexOf(".")!=-1){var f=[];n(s(o),function(){f.push(new c(this,t(u),t(a)))});return new p(f)}else{var l=r(o);return new c(l!==null?l:t(o),t(u),t(a))}}else if(o){return new c(o,t(u),t(a))}}return null};i(window.$f,{fireEvent:function(){var e=[].slice.call(arguments);var t=$f(e[0]);return t?t._fireEvent(e.slice(1)):null},addPlugin:function(e,t){c.prototype[e]=t;return $f},each:n,extend:i});if(typeof jQuery=="function"){jQuery.fn.flowplayer=function(e,n){if(!arguments.length||typeof arguments[0]=="number"){var r=[];this.each(function(){var e=$f(this);if(e){r.push(e)}});return arguments.length?r[arguments[0]]:new p(r)}return this.each(function(){$f(this,t(e),n?t(n):{})})}}})();(function(){function s(e,t){if(t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}}return e}function o(e,t){var n=[];for(var r in e){if(e.hasOwnProperty(r)){n[r]=t(e[r])}}return n}function f(n,r,i){if(u.isSupported(r.version)){n.innerHTML=u.getHTML(r,i)}else if(r.expressInstall&&u.isSupported([6,65])){n.innerHTML=u.getHTML(s(r,{src:r.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title})}else{if(!n.innerHTML.replace(/\s/g,"")){n.innerHTML="<h2>Flash version "+r.version+" or greater is required</h2>"+"<h3>"+(a[0]>0?"Your version is "+a:"You have no flash plugin installed")+"</h3>"+(n.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+t+"'>here</a></p>");if(n.tagName=="A"||n.tagName=="DIV"){n.onclick=function(){location.href=t}}}if(r.onFail){var o=r.onFail.call(this);if(typeof o=="string"){n.innerHTML=o}}}if(e){window[r.id]=document.getElementById(r.id)}s(this,{getRoot:function(){return n},getOptions:function(){return r},getConf:function(){return i},getApi:function(){return n.firstChild}})}var e=document.all,t="http://get.adobe.com/flashplayer",n=typeof jQuery=="function",r=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,i={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}window.flashembed=function(e,t,n){if(typeof e=="string"){e=document.getElementById(e.replace("#",""))}if(!e){return}if(typeof t=="string"){t={src:t}}return new f(e,s(s({},i),t),n)};var u=s(window.flashembed,{conf:i,getVersion:function(){var e,t;try{t=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");t=e&&e.GetVariable("$version")}catch(i){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");t=e&&e.GetVariable("$version")}catch(s){}}}t=r.exec(t);return t?[1*t[1],1*t[t[1]*1>9?2:3]*1]:[0,0]},asString:function(e){if(e===null||e===undefined){return null}var t=typeof e;if(t=="object"&&e.push){t="array"}switch(t){case"string":e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1");e=e.replace(/^\s?(\d+\.?\d*)%/,"$1pct");return'"'+e+'"';case"array":return"["+o(e,function(e){return u.asString(e)}).join(",")+"]";case"function":return'"function()"';case"object":var n=[];for(var r in e){if(e.hasOwnProperty(r)){n.push('"'+r+'":'+u.asString(e[r]))}}return"{"+n.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(t,n){t=s({},t);var r='<object width="'+t.width+'" height="'+t.height+'" id="'+t.id+'" name="'+t.id+'"';if(t.cachebusting){t.src+=(t.src.indexOf("?")!=-1?"&":"?")+Math.random()}if(t.w3c||!e){r+=' data="'+t.src+'" type="application/x-shockwave-flash"'}else{r+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'}r+=">";if(t.w3c||e){r+='<param name="movie" value="'+t.src+'" />'}t.width=t.height=t.id=t.w3c=t.src=null;t.onFail=t.version=t.expressInstall=null;for(var i in t){if(t[i]){r+='<param name="'+i+'" value="'+t[i]+'" />'}}var o="";if(n){for(var a in n){if(n[a]){var f=n[a];o+=a+"="+(/function|object/.test(typeof f)?u.asString(f):f)+"&"}}o=o.slice(0,-1);r+='<param name="flashvars" value=\''+o+"' />"}r+="</object>";return r},isSupported:function(e){return a[0]>e[0]||a[0]==e[0]&&a[1]>=e[1]}});var a=u.getVersion();if(n){jQuery.tools=jQuery.tools||{version:"3.2.11"};jQuery.tools.flashembed={conf:i};jQuery.fn.flashembed=function(e,t){return this.each(function(){$(this).data("flashembed",flashembed(this,e,t))})}}})()